@page "/editing/moditem/{Id}"

<MudGrid Style="height: 100%; margin: 0px;" Spacing="0">

	<MudItem Style=" padding: 0px; width: 56px;">
		<MudStack style="height: 100%;" AlignItems="AlignItems.Center" Spacing="0" Class="pt-2">
			<MudTooltip Text="Reset">
				<MudIconButton Icon="@Icons.Material.Filled.Refresh" Style="color: var(--mud-palette-primary);" OnClick="ResetModItem" />
			</MudTooltip>
			<MudTooltip Text="Save">
				<MudIconButton Icon="@Icons.Material.Filled.Save" Style="color: var(--mud-palette-primary);" OnClick="SaveItem" />
			</MudTooltip>
			<MudSpacer />
			<MudTooltip Text="Exit Modding">
				<MudIconButton Icon="@Icons.Material.Filled.Logout" Color="Color.Error" OnClick="Cancle" />
			</MudTooltip>
			<MudTooltip Text="Help">
				<MudIconButton Icon="@Icons.Material.Filled.Help" Style="color: var(--icon-primary);" />
			</MudTooltip>
		</MudStack>
	</MudItem>

	<MudItem Style="padding: 0px; height: 100%; width: calc(100% - 56px);">
		<div style="overflow-y: auto; height: 99%;">
			<MudGrid Style="height: 100%; margin: 0px;" Spacing="0" Class="pr-2">
				<MudItem md="12" Style="height: 10%; width: 100%;">
					<MudStack Row Style="height: 100%; width: 100%;" AlignItems="AlignItems.Center">
						<MudText Typo="Typo.h4" Class="header-primary"><b>@($"{editingModItem.GetType().Name}: {LocalizationService.GetName(editingModItem)}")</b></MudText>
						@if (string.IsNullOrEmpty(icon) == false)
						{
							<MudImage Src="@icon" />
						}
					</MudStack>
				</MudItem>

				<MudItem md="12" Style="height: 90%; padding: 0px;">
					<div style="height: 100%; overflow-y:auto;">
						<MudStack Spacing="0">
							@foreach (var attribute in sortedAttributes)
							{
								<AttributeSelector Attribute="attribute" @key="attribute.Name"></AttributeSelector>
								<MudDivider />
							}
						</MudStack>
					</div>
				</MudItem>
			</MudGrid>
		</div>
	</MudItem>

</MudGrid>